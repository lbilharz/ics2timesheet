<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Timesheet</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png">
  <link rel="apple-touch-icon" sizes="256x256" href="/favicon/256.png">
  <link rel="apple-touch-icon" sizes="512x512" href="/favicon/512.png">
  <link rel="apple-touch-icon" sizes="1024x1024" href="/favicon/1024.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <link href="main.css" rel="stylesheet" type="text/css"/>
  <link href="print.css" rel="stylesheet" type="text/css" media="print"/>
  <script src="ical_minified.js" type="text/javascript" charset="utf-8"></script>
  <script src="storage.js" type="text/javascript" charset="utf-8"></script>
  <script src="timeRangePresets.js" type="text/javascript" charset="utf-8"></script>
  <script src="utils.js" type="text/javascript"></script>
  <script src="loading.js" type="text/javascript"></script>
  <script src="render.js" type="text/javascript"></script>
  <script src="themeSwitch.js" type="text/javascript"></script>
  <script src="showdown.min.js" type="text/javascript"></script>
  <script src="main.js" type="text/javascript" defer></script>
</head>
<body>
  <div class="timesheetContainer">
    <header>
      <h1>ics2timesheet<br/><small><small>Generate timesheets and invoices from your calendar.</small></small></h1>
      <div class="buttons">
        <button type="button" data-print-button>
          <!-- https://www.iconbolt.com/iconsets/atlas-icons -->
          <svg viewBox="0 0 24 24"><defs><style>.cls-1{fill:none;stroke:currentColor;stroke-miterlimit:10;stroke-width:1.91px;}</style></defs><path color="currentColor" class="cls-1" d="M17.73,18.68h2.86a1.9,1.9,0,0,0,1.91-1.91V9.14a1.9,1.9,0,0,0-1.91-1.91H3.41A1.9,1.9,0,0,0,1.5,9.14v7.63a1.9,1.9,0,0,0,1.91,1.91H6.27"/><rect class="cls-1" x="6.27" y="14.86" width="11.45" height="7.64"/><rect class="cls-1" x="6.27" y="1.5" width="11.45" height="5.73"/><line class="cls-1" x1="4.36" y1="14.86" x2="19.64" y2="14.86"/><line class="cls-1" x1="17.73" y1="11.05" x2="19.64" y2="11.05"/><line class="cls-1" x1="9.14" y1="18.68" x2="14.86" y2="18.68"/></svg>
        </button>
        <button
          type="button"
          data-theme-toggle
          aria-label="Change to light theme">
          <svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg>
          <svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon hidden"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg>
        </button>
        <button type="button" data-info-button>
          <!-- https://www.iconbolt.com/iconsets/atlas-icons -->
          <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.cls-1{fill:none;stroke:currentColor;stroke-miterlimit:10;stroke-width:1.91px;}</style></defs><circle class="cls-1" cx="12" cy="12" r="10.5"/><polyline class="cls-1" points="12 16.77 12 10.09 10.09 10.09"/><line class="cls-1" x1="10.09" y1="16.77" x2="13.91" y2="16.77"/><line class="cls-1" x1="11.05" y1="7.23" x2="12.95" y2="7.23"/></svg>
        </button>

      </div>
      <div class="hidden" data-info-view><div></div></div>
    </header>
    <div class="setup">
      <div class="setup__container">
      <fieldset class="setup__calendar">
        <legend>Calendar Source</legend>
        <p class="urlDropdown hidden"><label><span class="label">Load</span><select id="urlDropdown"></select></label></p>
        <form id="calendarForm">
          <p>
            <label><span class="label">WebCal</span>
              <input type="text" id="calendarUrl" placeholder="Enter calendar URL">
            </label>
            <button type="submit">Fetch Calendar</button>
          </p>
        </form>
        <p><label><span class="label">ICS</span>
          <input type="file" id="icsFile" accept=".ics"></label></p>
      </fieldset>
      <fieldset class="setup__configuration">
        <legend>Configuration</legend>
        <p>
          <label><span class="label">Your name</span>
          <input id="userNameInput" type="text" value="" onchange="storeUserName(this.value)" /></label>
        </p>
        <p>
          <label><span class="label">Your rate</span>
          <input id="geld" type="number" style="width: 5em;" list="defaultRates" onchange="parseCalendarInput()" />€/h</label>
          <label> – VAT
          <input id="vat" type="number" style="width: 5em;" value="19" list="defaultVATs" onchange="parseCalendarInput()" />%</label>
        </p>
        <datalist id="defaultRates">
          <option value="0">
          <option value="30">
          <option value="60">
          <option value="90">
          <option value="120">
          <option value="150">
          <option value="180">
        </datalist>
        <datalist id="defaultVATs">
          <option value="0">
          <option value="7">
          <option value="19">
          <option value="20">
        </datalist>
        <p>
          <span class="label"></span>
          <label><input type="checkbox" id="dailySummaries" onchange="storeShowDailySummary(this.checked)" checked /> Show daily summaries</label>
        </p>
      </fieldset>
      <fieldset class="setup__configuration">
        <legend>Timeframe</legend>
        <p><label><span class="label">From</span>
          <input id="minAge" type="date" onchange="parseCalendarInput()" /></label>
          <label> to <input id="maxAge" type="date" onchange="parseCalendarInput()" /></label>
          <small>(including)</small></p>
        <p class="timeframe__presets">
          <input type="button" value="Last 12 Months" onclick="loadLastMonths(12)" />
          <input type="button" value="Last 6 Months" onclick="loadLastMonths(6)" />
          <input type="button" value="Last Month" onclick="loadLastMonths()" />
          <input type="button" value="Last Week" onclick="loadLastWeek()" />
          <input type="button" value="Yesterday" onclick="loadYesterday()" />
          <input type="button" value="Today" onclick="loadToday()" />
          <input type="button" value="This Week" onclick="loadThisWeek()" />
          <input type="button" value="This Month" onclick="loadThisMonth()" />
        </p>
      </fieldset>
      <fieldset class="setup__jobs"><legend>Filter Projects</legend>
        <div id="jobs"><p><i>(no <code>job</code> to select yet)</i></p></div>
        <div id="hash"><p><i>(no <code>#hashtag</code> to select yet)</i></p></div>
        <p>The time sheet will allow filtering on certain jobs OR <code>#hashtags</code>.<br/>
          by adding the event in brackets <code>(</code> to the title of the calendar event. eg. <code>JobName (Event)</code>
        </p>
      </fieldset>
      </div>
    </div>
    <fieldset class="summary"><legend>Summary</legend>
      <table id="summary__totalHours"></table>
    </fieldset>
    <div class="timesheet__header">
      <h1>
        <span id="userName"></span>
        <br/>
        <small>
          <span id="calName"></span>
          <br/>
          <span id="timeframe"></span>
        </small>
      </h1>
    </div>
    <div class="timesheet__content" id="timesheet__content"></div>
  </div>
</body>
</html>
